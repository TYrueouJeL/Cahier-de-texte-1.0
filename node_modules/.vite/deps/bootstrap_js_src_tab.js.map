{
  "version": 3,
  "sources": ["../../bootstrap/js/src/tab.js"],
  "sourcesContent": ["/**\n * --------------------------------------------------------------------------\n * Bootstrap tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin, getNextActiveElement, isDisabled } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'tab'\nconst DATA_KEY = 'bs.tab'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}`\n\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst HOME_KEY = 'Home'\nconst END_KEY = 'End'\n\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_DROPDOWN = 'dropdown'\n\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\nconst SELECTOR_DROPDOWN_MENU = '.dropdown-menu'\nconst NOT_SELECTOR_DROPDOWN_TOGGLE = `:not(${SELECTOR_DROPDOWN_TOGGLE})`\n\nconst SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]'\nconst SELECTOR_OUTER = '.nav-item, .list-group-item'\nconst SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]' // TODO: could only be `tab` in v6\nconst SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`\n\nconst SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`\n\n/**\n * Class definition\n */\n\nclass Tab extends BaseComponent {\n  constructor(element) {\n    super(element)\n    this._parent = this._element.closest(SELECTOR_TAB_PANEL)\n\n    if (!this._parent) {\n      return\n      // TODO: should throw exception in v6\n      // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n    }\n\n    // Set up initial aria attributes\n    this._setInitialAttributes(this._parent, this._getChildren())\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event))\n  }\n\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show() { // Shows this elem and deactivate the active sibling if exists\n    const innerElem = this._element\n    if (this._elemIsActive(innerElem)) {\n      return\n    }\n\n    // Search for active tab on same parent to deactivate it\n    const active = this._getActiveElem()\n\n    const hideEvent = active ?\n      EventHandler.trigger(active, EVENT_HIDE, { relatedTarget: innerElem }) :\n      null\n\n    const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW, { relatedTarget: active })\n\n    if (showEvent.defaultPrevented || (hideEvent && hideEvent.defaultPrevented)) {\n      return\n    }\n\n    this._deactivate(active, innerElem)\n    this._activate(innerElem, active)\n  }\n\n  // Private\n  _activate(element, relatedElem) {\n    if (!element) {\n      return\n    }\n\n    element.classList.add(CLASS_NAME_ACTIVE)\n\n    this._activate(SelectorEngine.getElementFromSelector(element)) // Search and activate/show the proper section\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.add(CLASS_NAME_SHOW)\n        return\n      }\n\n      element.removeAttribute('tabindex')\n      element.setAttribute('aria-selected', true)\n      this._toggleDropDown(element, true)\n      EventHandler.trigger(element, EVENT_SHOWN, {\n        relatedTarget: relatedElem\n      })\n    }\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _deactivate(element, relatedElem) {\n    if (!element) {\n      return\n    }\n\n    element.classList.remove(CLASS_NAME_ACTIVE)\n    element.blur()\n\n    this._deactivate(SelectorEngine.getElementFromSelector(element)) // Search and deactivate the shown section too\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.remove(CLASS_NAME_SHOW)\n        return\n      }\n\n      element.setAttribute('aria-selected', false)\n      element.setAttribute('tabindex', '-1')\n      this._toggleDropDown(element, false)\n      EventHandler.trigger(element, EVENT_HIDDEN, { relatedTarget: relatedElem })\n    }\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _keydown(event) {\n    if (!([ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY, HOME_KEY, END_KEY].includes(event.key))) {\n      return\n    }\n\n    event.stopPropagation()// stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n    event.preventDefault()\n\n    const children = this._getChildren().filter(element => !isDisabled(element))\n    let nextActiveElement\n\n    if ([HOME_KEY, END_KEY].includes(event.key)) {\n      nextActiveElement = children[event.key === HOME_KEY ? 0 : children.length - 1]\n    } else {\n      const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key)\n      nextActiveElement = getNextActiveElement(children, event.target, isNext, true)\n    }\n\n    if (nextActiveElement) {\n      nextActiveElement.focus({ preventScroll: true })\n      Tab.getOrCreateInstance(nextActiveElement).show()\n    }\n  }\n\n  _getChildren() { // collection of inner elements\n    return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent)\n  }\n\n  _getActiveElem() {\n    return this._getChildren().find(child => this._elemIsActive(child)) || null\n  }\n\n  _setInitialAttributes(parent, children) {\n    this._setAttributeIfNotExists(parent, 'role', 'tablist')\n\n    for (const child of children) {\n      this._setInitialAttributesOnChild(child)\n    }\n  }\n\n  _setInitialAttributesOnChild(child) {\n    child = this._getInnerElement(child)\n    const isActive = this._elemIsActive(child)\n    const outerElem = this._getOuterElement(child)\n    child.setAttribute('aria-selected', isActive)\n\n    if (outerElem !== child) {\n      this._setAttributeIfNotExists(outerElem, 'role', 'presentation')\n    }\n\n    if (!isActive) {\n      child.setAttribute('tabindex', '-1')\n    }\n\n    this._setAttributeIfNotExists(child, 'role', 'tab')\n\n    // set attributes to the related panel too\n    this._setInitialAttributesOnTargetPanel(child)\n  }\n\n  _setInitialAttributesOnTargetPanel(child) {\n    const target = SelectorEngine.getElementFromSelector(child)\n\n    if (!target) {\n      return\n    }\n\n    this._setAttributeIfNotExists(target, 'role', 'tabpanel')\n\n    if (child.id) {\n      this._setAttributeIfNotExists(target, 'aria-labelledby', `${child.id}`)\n    }\n  }\n\n  _toggleDropDown(element, open) {\n    const outerElem = this._getOuterElement(element)\n    if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n      return\n    }\n\n    const toggle = (selector, className) => {\n      const element = SelectorEngine.findOne(selector, outerElem)\n      if (element) {\n        element.classList.toggle(className, open)\n      }\n    }\n\n    toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE)\n    toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW)\n    outerElem.setAttribute('aria-expanded', open)\n  }\n\n  _setAttributeIfNotExists(element, attribute, value) {\n    if (!element.hasAttribute(attribute)) {\n      element.setAttribute(attribute, value)\n    }\n  }\n\n  _elemIsActive(elem) {\n    return elem.classList.contains(CLASS_NAME_ACTIVE)\n  }\n\n  // Try to get the inner element (usually the .nav-link)\n  _getInnerElement(elem) {\n    return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem)\n  }\n\n  // Try to get the outer element (usually the .nav-item)\n  _getOuterElement(elem) {\n    return elem.closest(SELECTOR_OUTER) || elem\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tab.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  Tab.getOrCreateInstance(this).show()\n})\n\n/**\n * Initialize on focus\n */\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n    Tab.getOrCreateInstance(element)\n  }\n})\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tab)\n\nexport default Tab\n"],
  "mappings": "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",
  "names": ["element"]
}
